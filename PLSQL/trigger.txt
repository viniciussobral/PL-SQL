CREATE TABLE VIGIA (MARCA VARCHAR2 (100));

CREATE OR REPLACE TRIGGER MARCA_LOGON
    AFTER LOGON ON SCHEMA
BEGIN
  INSERT INTO VIGIA 
  VALUES (USER || 'ENTROU NO SISTEMA EM: ' || TO_CHAR(SYSDATE, 'DD-MM-YYYY HH24:MI:SS'));
  COMMIT;
END;

-- CRIANDO UMA TRIGGER DE SA√çDA: LOGOFF

CREATE OR REPLACE TRIGGER MARCA_LOGOFF
   BEFORE  LOGOFF  ON SCHEMA
BEGIN
   INSERT INTO VIGIA 
   VALUES (USER || 'SAIU DO SISTEMA EM: ' || TO_CHAR (SYSDATE, 'DD-MM-YYYY HH24:MI:SS'));
   COMMIT;
END;
 